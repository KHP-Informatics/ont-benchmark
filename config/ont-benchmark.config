// Parameters
params {
    // Reference files
    reference_fasta = "/scratch/prj/ppn_als_longread/references/GCA_000001405.15_GRCh38_no_alt_analysis_set.fna"
    array_positions_file = "/scratch/prj/ppn_als_longread/references/InfiniumOmni2-5-8v1-4_A1_b150_rsids.txt"

    // Sample ID files
    sample_ids_file = "/scratch/prj/ppn_als_longread/sample_ids.csv"

    // Directories
    microarray_dir = "/scratch/prj/ppn_als_longread/benchmark_data/genotyping"
    ont_dir = "/scratch/prj/ppn_als_longread/vcf"
    variant_benchmark_dir = "/scratch/prj/ppn_als_longread/variant_benchmark/snps_ont_vs_microarray"

    // Run parameters
    dbsnp_build = 156
}

// General workflow settings
workDir = "/scratch/prj/ppn_als_longread/work"
resume = true
cleanup = false

// Container settings
docker {
    enabled = false
}

singularity {
    enabled = true
    autoMounts = true
    cacheDir = "/scratch/users/${USER}/singularity/"
}

executor {
    name = "slurm"
}

// Process settings
process {
    queue = "cpu,nd_bioinformatics_cpu,interruptible_cpu"
    time = { 1.h * task.attempt }

    withName: CREATE_SDF {
        container = 'quay.io/biocontainers/rtg-tools:3.12.1--hdfd78af_0'
        cpus = 1
        memory = '2 GB'
    }

    withName: FETCH_ARRAY_POSITIONS {
        container = 'ghcr.io/renatosantos98/pysam-requests:commit-b5659ec'
        cpus = 1
        memory = '4 GB'
        time = { 2.h * task.attempt }
    }
}
